<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"> <!-- Declaring  XML using-->

	<head th:replace="fragments.html :: headerfiles('הרשמה')"></head>
	
	<body>
	
		<div th:replace="fragments.html :: topnav"></div>
		
		<h1>הרשמה</h1>
			
		<p th:if="${emailExists}">כתובת אימייל כבר קיימת במערכת</p>
		<p th:if="${userExists}">שם משתמש כבר קיים במערכת</p>
			
		<div>
			<!-- Using form to specify our actions - url process 
			th:action - our action
			th:object - Our model-->
			<!-- <form th:action = "@{/process_register}" method = "post" -->
				<form th:action = "@{/register}" method = "post"
				th:object = "${user}">
				
					<table class="center">
						<tr> <!-- Username -->
							<td>
								<label>שם משתמש</label>
							</td>
							<td>
								<input type="text" class="form-control"  th:field="*{username}" required
								minlength="4" maxlength="15" th:errorClass="is-invalid"/>
								<div th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></div>
							</td>
						</tr>
						<tr> <!-- Password -->
							<td>
								<label>סיסמה</label>
							</td>
							<td>
								<input type="password" class="form-control"  th:field="*{password}" required
								minlength="8" maxlength="60" th:errorClass="is-invalid"/>
							</td>
						</tr>
						<tr> <!-- First Name -->
							<td>
								<label>שם פרטי</label>
							</td>
							<td>
								<input type="text" class="form-control"  th:field="*{firstName}" required
								minlength="1" maxlength="15" th:errorClass="is-invalid"/>
							</td>
						</tr>
						<tr> <!-- last name-->
							<td>
								<label>שם משפחה</label>
							</td>
							<td>
								<input type="text" class="form-control"  th:field="*{lastName}" required
								minlength="1" maxlength="15" th:errorClass="is-invalid"/>
							</td>
						</tr>
						<tr> <!-- Email -->
							<td>
								<label>אימייל</label>
							</td>
							<td>
								<input type="email" class="form-control"  th:field="*{email}" required
								minlength="1" maxlength="64" th:errorClass="is-invalid"/>
								<div th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="invalid-feedback"></div>
							</td>
						</tr>
					</table>
					
					<!-- Submit button -->
				
					<div align="center">
						<input class="button" type="submit" value="הרשמה" />
					</div>
					
				</form>
				
				<p class="container text-center"> כבר יש לך חשבון?  &nbsp; <a th:href="@{/login}">לחץ כאן כדי להתחבר</a></p>
		</div>
		
		<div th:replace="fragments.html :: botnav"></div>
	</body>
</html>